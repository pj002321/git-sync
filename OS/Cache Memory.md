##  Cache Memory

![[Pasted image 20250415111818.png]]
CPU와 RAM 사이에 위치한 고속 메모리로, 자주 사용하는 데이터를 저장해 **접근 속도**를 높인다. (하드웨어 상 CPU 내부에 위치)

**L1, L2, L3 캐시**로 나뉘며, L1이 가장 빠르지만 작고, L3는 느리지만 크다.

**장점**: 대기 시간 감소, 처리량 증가, 전력 절감, 성능 향상, 예측 기반 미리 로딩 가능.
**단점**: 높은 비용, 작은 용량, 캐시 미스 발생, 멀티코어 간 캐시 일관성 문제.

**캐시 미스**에는 Cold, Capacity, Conflict Miss가 있으며 성능 저하를 유발한다.
멀티코어 환경에서는 **스누핑(Snooping)** 등으로 캐시 동기화 필요.

## ❔**왜** **필요한가**

> [!NOTE]
> 	 CPU가 데이터를 처리할 때 RAM 접근은 상대적으로 느리기 때문에, 자주 사용되는 데이터나
> 	 명령어를 캐시에 저장해 빠르게 접근할 수 있어, 전체 시스템 성능을 크게 향상시킬 수 있다.

## ❔**캐시 미스 발생 이유와 해결**

> [!NOTE]
> 	 CPU가 원하는 데이터가 캐시에 없을 때 발생한다.
> 	 
> 	 Cold Miss : 처음 접근하는 데이터라 캐시에 없음
> 	 Capacity Miss : 캐시 크기가 작아서 데이터를 다 담지 못함
> 	 Conflict Miss : 특정 캐시 영역에 데이터가 몰려 충돌이 발생
> 	 
> 	 해결방법 : 캐시 크기 증가, 세트 연관 캐시 구조 적용, 적절한 교체 알고리즘 사용 등


## ❔**L1,L2,L3 캐시 차이점**

> [!NOTE]
>   L1 : CPU 코어 내부에 있고 가장 빠르지만 용량이 작음 (보통 수십 KB)
L2 : L1보다 느리지만 더 큼 (수백 KB ~ 몇 MB), 코어 내부 or 외부 
L3 : 코어 간 공유 캐시로 가장 느리지만 가장 큼 (수 MB ~ 수십 MB)

## ❔**캐시 일관성 문제와 해결책**

> [!NOTE]
> 	 멀티 코어 환경에서 각 코어가 캐시를 가질 때, 같은 메모리 주소의 데이가 캐시마다 다를 수 있는 문제가 발생 (코어1이 데이터를 수정했는데, 코어2가 수정 전 데이터를 캐시에 갖고있을 때  데이터 불일치 발생)
> 	 
> 	 스누핑, MESI 프로토콜 같은 캐시 일관성 유지 기법을 통해서 각 코어의 캐시 상태를 감시하고 동기화



[[OS]]


