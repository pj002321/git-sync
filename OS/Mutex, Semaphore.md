# Mutex, Semaphore

>[!MUTEX]
>상호 배제(Mutual Exclusion)를 의미, 한 번에 오직 하나의 스레드(또는 프로세스)만이 공유 자원에 접근하도록 강제하는 잠금(Locking) 매커니즘으로, 자원에 대한 소유권 개념이 있으며, 잠근 스레드만이 해제할 수 있다. 화장실 문 잠금쇠에 비유할 수 있다.

>[!SEMAPHORE]
>공유 자원에 접근할 수 있는 스레드(또는 프로세스)의 수를 제어하는 신호 메커니즘으로, 카운터 변수를 사용하여 현재 사용 가능한 자원의 수를 나타낸다. 소유권 개념이 없으며, wait() 연산으로 카운터를 감소시키고, singal() 연산으로 증가시킨다. 주차장의 남은 공간 수에 비유할 수 있다.

## 이진 세마포어
카운터 값이 0 또는 1만 가지는 세마포어로, 뮤텍스처럼 상호 배제를 구현할 수 있다.
하지만 뮤텍스와 달리 소유권 개념은 없다.

## 차이점
뮤텍스는 '누가' 자원에 접근하는지를 제어 (오직 하나), 세마포어는 '몇 개'의 자원에 동시에 접근할 수 있는지를 제어.
뮤텍스는 소유권이 있고, 세마포어는 없음.

**✅ Mutex와 Semaphore의 핵심 차이점**
뮤텍스는 자원에 대한 배타적 접근을 보장하는 잠금 메커니즘으로 소유권 개념이 있지만, 세마포어는 자원에 동시에 접근 가능한 개수를 제어하는 신호 메커니즘으로 소유권이 없다.

**✅ 어떤 상황에서 Mutex를 사용하고, 어떤 상황에서 Semaphore를 사용하는 것이 더 적합한가?**
하나의 스레드만이 접근해야 하는 공유 자원(Critical Section)을 보호할 때는 Mutex가 적합.
여러 개의 동일한 자원에 대해 동시에 접근 가능한 스레드 수를 제한해야 할 때는 Semaphore 가 적합

**✅ Binary Semaphore는 Mutex와 동일한가요? 차이점이 있다면 무엇인가?**
Binary Semaphore는 기능적으로 Mutex처럼 상호 배제를 구현할 수 있지만, 가장 큰 차이점은 **소유권**이다.
Mutex는 잠근 스레드만 해제할 수 있지만, Binary Semaphore는 어떤 스레드든 `signal()` 연산을 통해 해제할 수 있다.

**✅Mutex나 Semaphore 사용 시 발생할 수 있는 문제는 무엇이 있나? **
대표적으로 **데드락(Deadlock)**과 **기아(Starvation)** 문제가 발생.
데드락은 여러 스레드가 서로의 자원을 기다리며 멈추는 현상이고, 기아는 특정 스레드가 자원을 계속 얻지 못하고 대기하는 현상.

**✅ Mutex와 Semaphore를 사용하는 이유?**
멀티 스레드 또는 멀티 프로세스 환경에서 공유 자원에 여러 스레드가 동시에 접근할 때 발생하는 **경쟁 상태(Race Condition)** 를 방지하고, 데이터의 **일관성**과 **무결성**을 유지하기 위해서이다. 또한, 스레드 간의 **동기화** 및 **순서 제어**에도 사용된다.


[[OS]]
